{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/TheYarnZoo/src/components/products/ProductCard.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport type { Product } from '@/types';\nimport { Button } from '@/components/ui/button';\nimport { ShoppingCart, Star } from 'lucide-react';\nimport { useCart } from '@/context/CartContext';\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nconst ProductCard = ({ product }: ProductCardProps) => {\n  const { addToCart } = useCart();\n\n  const handleAddToCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation(); // Prevent link navigation when clicking the button\n    if (!product._id) {\n      console.error(\"Product _id is missing, cannot add to cart\");\n      return;\n    }\n    addToCart({\n      productId: product._id, // Use the database _id\n      name: product.name,\n      price: product.price,\n      image: product.images && product.images.length > 0 ? product.images[0] : 'https://placehold.co/300x300.png',\n      quantity: 1,\n      stock: product.stock,\n    });\n  };\n  \n  const displayRating = product.averageRating && product.averageRating > 0 ? product.averageRating.toFixed(1) : 'New';\n\n  return (\n    <div className=\"bg-card rounded-lg shadow-lg overflow-hidden flex flex-col transition-all duration-300 hover-lift group\">\n      <Link href={`/products/${product.slug}`} className=\"block\">\n        <div className=\"relative w-full aspect-square\">\n          <Image\n            src={product.images && product.images.length > 0 ? product.images[0] : 'https://placehold.co/600x400.png'}\n            alt={product.name}\n            fill\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n            className=\"object-cover transition-transform duration-300 group-hover:scale-105\"\n            data-ai-hint={`${product.category.toLowerCase()} ${product.name.toLowerCase().split(' ')[0]}`}\n          />\n        </div>\n      </Link>\n      <div className=\"p-4 flex flex-col flex-grow\">\n        <Link href={`/products/${product.slug}`} className=\"block\">\n          <h3 className=\"text-lg font-headline font-semibold text-foreground mb-1 truncate\">{product.name}</h3>\n        </Link>\n        <p className=\"text-sm text-muted-foreground mb-2\">{product.category} - {product.material}</p>\n        <div className=\"flex items-center mb-3\">\n          <Star className={`h-5 w-5 ${product.averageRating && product.averageRating > 0 ? 'text-yellow-400 fill-yellow-400' : 'text-muted-foreground'}`} />\n          <span className=\"ml-1 text-sm text-muted-foreground\">\n            {displayRating} {product.reviews && product.reviews.length > 0 ? `(${product.reviews.length} reviews)` : ''}\n          </span>\n        </div>\n        <p className=\"text-xl font-semibold text-accent mb-4\">â‚¹{product.price.toFixed(2)}</p>\n        <div className=\"mt-auto\">\n          <Button \n            onClick={handleAddToCart} \n            className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground btn-subtle-animate\"\n            disabled={product.stock === 0}\n            aria-label={`Add ${product.name} to cart`}\n          >\n            <ShoppingCart className=\"mr-2 h-5 w-5\" />\n            {product.stock > 0 ? 'Add to Cart' : 'Out of Stock'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AACA;AAAA;AACA;;;AAPA;;;;;;AAaA,MAAM,cAAc,CAAC,EAAE,OAAO,EAAoB;;IAChD,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAE5B,MAAM,kBAAkB,CAAC;QACvB,EAAE,eAAe,IAAI,mDAAmD;QACxE,IAAI,CAAC,QAAQ,GAAG,EAAE;YAChB,QAAQ,KAAK,CAAC;YACd;QACF;QACA,UAAU;YACR,WAAW,QAAQ,GAAG;YACtB,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,MAAM,IAAI,QAAQ,MAAM,CAAC,MAAM,GAAG,IAAI,QAAQ,MAAM,CAAC,EAAE,GAAG;YACzE,UAAU;YACV,OAAO,QAAQ,KAAK;QACtB;IACF;IAEA,MAAM,gBAAgB,QAAQ,aAAa,IAAI,QAAQ,aAAa,GAAG,IAAI,QAAQ,aAAa,CAAC,OAAO,CAAC,KAAK;IAE9G,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+JAAA,CAAA,UAAI;gBAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;gBAAE,WAAU;0BACjD,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,QAAQ,MAAM,IAAI,QAAQ,MAAM,CAAC,MAAM,GAAG,IAAI,QAAQ,MAAM,CAAC,EAAE,GAAG;wBACvE,KAAK,QAAQ,IAAI;wBACjB,IAAI;wBACJ,OAAM;wBACN,WAAU;wBACV,gBAAc,GAAG,QAAQ,QAAQ,CAAC,WAAW,GAAG,CAAC,EAAE,QAAQ,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;;;;;;;;;;;;;;;;0BAInG,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;wBAAE,WAAU;kCACjD,cAAA,6LAAC;4BAAG,WAAU;sCAAqE,QAAQ,IAAI;;;;;;;;;;;kCAEjG,6LAAC;wBAAE,WAAU;;4BAAsC,QAAQ,QAAQ;4BAAC;4BAAI,QAAQ,QAAQ;;;;;;;kCACxF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAW,CAAC,QAAQ,EAAE,QAAQ,aAAa,IAAI,QAAQ,aAAa,GAAG,IAAI,oCAAoC,yBAAyB;;;;;;0CAC9I,6LAAC;gCAAK,WAAU;;oCACb;oCAAc;oCAAE,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG;;;;;;;;;;;;;kCAG7G,6LAAC;wBAAE,WAAU;;4BAAyC;4BAAE,QAAQ,KAAK,CAAC,OAAO,CAAC;;;;;;;kCAC9E,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,qIAAA,CAAA,SAAM;4BACL,SAAS;4BACT,WAAU;4BACV,UAAU,QAAQ,KAAK,KAAK;4BAC5B,cAAY,CAAC,IAAI,EAAE,QAAQ,IAAI,CAAC,QAAQ,CAAC;;8CAEzC,6LAAC,yNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;gCACvB,QAAQ,KAAK,GAAG,IAAI,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;AAMjD;GA7DM;;QACkB,iIAAA,CAAA,UAAO;;;KADzB;uCA+DS","debugId":null}}]
}